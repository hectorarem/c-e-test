<app-header></app-header>
<div class="content-file">
  <div class="body">
    <mat-progress-bar *ngIf="fileLoading" mode="indeterminate"></mat-progress-bar>
    <br *ngIf="fileLoading">
    <div class="file-upload-right" *ngIf="file">
      <span (click)="fileUpload()">SUBIR</span>
    </div>
    <div class="file-upload-left">
      <label for="file_id">Subir nuevo fichero</label>
      <input id="file_id" type="file" [multiple]="false" (change)="onFileSelected($event)" #fileid>
    </div>
  </div>
</div>
<div class="content">
  <table class="styled-table">
    <thead>
    <tr>
      <th *ngFor="let name of displayedColumns">
        {{name}}
      </th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let file of dataSource">
      <td>
        {{file.created_at|date:'Y-M-d'}}
      </td>
      <td>
        {{file.uploaded_by}}
      </td>
      <td>
          {{file.file_name}}
      </td>
      <td>
        {{file.file_extension}}
      </td>
      <td>
        {{file.file_size}}
      </td>
      <td>
        <a href="{{file.file}}" style="color: #0d47a1">
          <mat-icon aria-hidden="false">download</mat-icon>
        </a>
        <a href="#" style="color: #0d47a1">
        <mat-icon aria-hidden="false">edit</mat-icon>
        </a>
        <a *ngIf="user.username===file.uploaded_by" href="#" (click)="fileDelete(file.id)" style="color: #0d47a1">
        <mat-icon aria-hidden="false">delete</mat-icon>
        </a>

      </td>
    </tr>
    </tbody>

  </table>
  <div class="pagination">
    <div class="previous" *ngIf="previous" (click)="moveToPagePrevious()">
      <mat-icon aria-hidden="false">keyboard_arrow_left</mat-icon>
    </div>
    <div class="next" *ngIf="next" (click)="moveToPageNext()">
      <mat-icon aria-hidden="false">keyboard_arrow_right</mat-icon>
    </div>
  </div>
</div>

